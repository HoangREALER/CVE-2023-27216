<%
If Request_Form("buttonType")="delete" Then
	If Request_Form("enable_0")="1" then
		tcWebApi_unset("Schedule_Entry0")
		TcWebApi_Set_Str("Schedule_Entry0","Name","-")
		TcWebApi_Set_Str("Schedule_Entry0","Time","-")
	End If
	If Request_Form("enable_1")="1" then
		tcWebApi_unset("Schedule_Entry1")
		TcWebApi_Set_Str("Schedule_Entry1","Name","-")
		TcWebApi_Set_Str("Schedule_Entry1","Time","-")
	End If
	If Request_Form("enable_2")="1" then
		tcWebApi_unset("Schedule_Entry2")
		TcWebApi_Set_Str("Schedule_Entry2","Name","-")
		TcWebApi_Set_Str("Schedule_Entry2","Time","-")
	End If
	If Request_Form("enable_3")="1" then
		tcWebApi_unset("Schedule_Entry3")
		TcWebApi_Set_Str("Schedule_Entry3","Name","-")
		TcWebApi_Set_Str("Schedule_Entry3","Time","-")
	End If
	If Request_Form("enable_4")="1" then
		tcWebApi_unset("Schedule_Entry4")
		TcWebApi_Set_Str("Schedule_Entry4","Name","-")
		TcWebApi_Set_Str("Schedule_Entry4","Time","-")
	End If
	If Request_Form("enable_5")="1" then
		tcWebApi_unset("Schedule_Entry5")
		TcWebApi_Set_Str("Schedule_Entry5","Name","-")
		TcWebApi_Set_Str("Schedule_Entry5","Time","-")
	End If
	If Request_Form("enable_6")="1" then
		tcWebApi_unset("Schedule_Entry6")
		TcWebApi_Set_Str("Schedule_Entry6","Name","-")
		TcWebApi_Set_Str("Schedule_Entry6","Time","-")
	End If
	If Request_Form("enable_7")="1" then
		tcWebApi_unset("Schedule_Entry7")
		TcWebApi_Set_Str("Schedule_Entry7","Name","-")
		TcWebApi_Set_Str("Schedule_Entry7","Time","-")
	End If
	If Request_Form("enable_8")="1" then
		tcWebApi_unset("Schedule_Entry8")
		TcWebApi_Set_Str("Schedule_Entry8","Name","-")
		TcWebApi_Set_Str("Schedule_Entry8","Time","-")
	End If
	If Request_Form("enable_9")="1" then
		tcWebApi_unset("Schedule_Entry9")
		TcWebApi_Set_Str("Schedule_Entry9","Name","-")
		TcWebApi_Set_Str("Schedule_Entry9","Time","-")
	End If	
	'TCWebApi_commit("Schedule_Entry")
elseif Request_Form("buttonType")="apply" Then
	If Request_Form("editRow")="0" then		
		TCWebAPI_set("Schedule_Entry0","Name","ruleName")
		TCWebAPI_set("Schedule_Entry0","Time","timeValue")
	End If
	If Request_Form("editRow")="1" then		
		TCWebAPI_set("Schedule_Entry1","Name","ruleName")
		TCWebAPI_set("Schedule_Entry1","Time","timeValue")
	End If
	If Request_Form("editRow")="2" then		
		TCWebAPI_set("Schedule_Entry2","Name","ruleName")
		TCWebAPI_set("Schedule_Entry2","Time","timeValue")
	End If
	If Request_Form("editRow")="3" then		
		TCWebAPI_set("Schedule_Entry3","Name","ruleName")
		TCWebAPI_set("Schedule_Entry3","Time","timeValue")
	End If
	If Request_Form("editRow")="4" then		
		TCWebAPI_set("Schedule_Entry4","Name","ruleName")
		TCWebAPI_set("Schedule_Entry4","Time","timeValue")
	End If
	If Request_Form("editRow")="5" then		
		TCWebAPI_set("Schedule_Entry5","Name","ruleName")
		TCWebAPI_set("Schedule_Entry5","Time","timeValue")
	End If
	If Request_Form("editRow")="6" then		
		TCWebAPI_set("Schedule_Entry6","Name","ruleName")
		TCWebAPI_set("Schedule_Entry6","Time","timeValue")
	End If
	If Request_Form("editRow")="7" then		
		TCWebAPI_set("Schedule_Entry7","Name","ruleName")
		TCWebAPI_set("Schedule_Entry7","Time","timeValue")
	End If
	If Request_Form("editRow")="8" then		
		TCWebAPI_set("Schedule_Entry8","Name","ruleName")
		TCWebAPI_set("Schedule_Entry8","Time","timeValue")
	End If
	If Request_Form("editRow")="9" then		
		TCWebAPI_set("Schedule_Entry9","Name","ruleName")
		TCWebAPI_set("Schedule_Entry9","Time","timeValue")
	End If
	'TCWebApi_commit("Schedule_Entry")
elseif Request_Form("buttonType")="save" Then
	TCWebApi_commit("Schedule_Entry")
End If
%>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns= "http://www.w3c.org/1999/xhtml">

<head>
<title>D-LINK</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Content-Type" content="text/css">
<link rel=stylesheet type="text/css" href="/layout/New_GUI/jquery.selectbox.css?v=20140910163551" />
<script type="text/javascript" charset="utf-8" src="/js/New_GUI/initialJS.js?v=20140910163551"></script>
<script type="text/javascript" charset="utf-8" src="/js/New_GUI/initialCSS.js?v=20140910163551"></script>
<script type="text/javascript" charset="utf-8" src="/js/New_GUI/initialJQ.js?v=20140910163551"></script>
<script type="text/javascript" charset="utf-8" src="/js/New_GUI/initialValidate.js?v=20140910163551"></script>
<script type="text/javascript" charset="utf-8" src="/js/New_GUI/ip.js?v=20140910163551"></script>
<script type="text/javascript" charset="utf-8" src="/js/New_GUI/__comm.js?v=20140910163551"></script>
<script type="text/javascript" charset="utf-8" src="/js/New_GUI/__js_comm.js?v=20140910163551"></script>
<script type="text/javascript" charset="utf-8" src="/js/New_GUI/jquery-ui.custom.min.js?v=TimeStamp_QzwsxDcRfvTGByHn"></script>
<script type="text/javascript" charset="utf-8" src="/js/New_GUI/jquery.ui.selectable.js?v=TimeStamp_QzwsxDcRfvTGByHn"></script>
<script type="text/javascript" charset="utf-8" src="/js/New_GUI/jquery.ui.touch-punch.min.js?v=TimeStamp_QzwsxDcRfvTGByHn"></script>

<!-- get -->
<script src="/cgi-bin/get/New_GUI/Schedule.asp" type="text/javascript"></script>
<!-- get -->

<!-- js -->
<script src="/js/New_GUI/Management/Schedule.js" type="text/javascript"></script> 
<!-- js -->

</head>
<style>
	.list		{	background-color: white;	}
	.week .ui-selecting	{	background: #FECA40; color: #FECA40;	}
	.week .ui-unselecting	{	background: #FEFFAF; color: #505050;	}
	.week .ui-selected	{	background: #FFFA72; color: #FFFA72;	}
	.week		{	list-style-type: none; margin: 0; padding: 0; width: 820px;	cursor:default;	}
	.week li	{	margin: 4px 1px 3px 0; padding: 1px; float: left; width: 30px; height: 25px; font-size: 1em; text-align: center; color:white;	}
	#reciprocal_Number_Reboot{font-size:12pt;font-weight:bold}
</style>
<script language="Javascript">
	var datalist = new Datalist();
	var currentRule = null;	

	var maxRule = 10;
	var ScheduleCount = 0;
	var ScheduleList = new Array();	
	var selectedValueArray = new Array();	

	function decodeSpecialChr(str) {
		str = str.replace(/&amp;/g, "&");
		str = str.replace(/&lt;/g, "<");
		str = str.replace(/&gt;/g, ">");
		str = str.replace(/&quot;/g, "\"");
		str = str.replace(/&#39;/g, "'");
		str = str.replace(/&#59;/g, ";");
		str = str.replace(/&#61;/g, "=");
		str = str.replace(/&#43;/g, "+");
		str = str.replace(/&#45;/g, "-");
		return str;
	}
	
	CountSchedule();
	function CountSchedule() {
		for(var i = 0; i < maxRule; i++) {
			var port_name = eval("port"+i+"_name");
			if(port_name != "N/A") {
				var port_time = eval("port"+i+"_time");						
				ScheduleList.push([decodeSpecialChr(port_name),decodeSpecialChr(port_time)]);			
				ScheduleCount ++;
			} 
			else {
				ScheduleList.push(["",""]);
			}
		}
	}		
	function Load_HTML()	{	$("#header").load("header.asp");	}
	function Initial()
	{
		initialMenu();
	}		
		
	function addRuleButton()	
	{
		$("#editRow").val("-1");
		createScheduleTable(null);

		currentRule = new  RuleObj();
		document.getElementById("createPop").style.display = "inline";	
		document.getElementById("createButton").disabled = true;
	}

	function editData(id)
	{
		document.getElementById("createPop").style.display = "inline";
		document.getElementById("createButton").disabled = true;

		$("#editRow").val(id)
			
		//insert data to pop form
		currentRule = new RuleObj();
		var oldRule = datalist.getData(id);
		$.extend(currentRule, oldRule);	//clone

		$("#schedule_name").val(currentRule.name);

		//create time array
		for(var i = 0; i < currentRule.length(); i++)
		{
			for(var j = currentRule.list[i].start; j < currentRule.list[i].end; j++)
			{
				currentRule.timeArray[currentRule.list[i].date-1][j] = 1;
			}
		}		
		createScheduleTable(currentRule);
	}

	function deleteData(id)
	{
		var f = document.getElementById("frm");
		var st = eval("f.enable_"+id);	
		st.value = 1;
		
		if(confirm(m_comm_deldesc)) {
	
			$("#buttonType").val("delete");	

			document.getElementById("CreatePopAlertMessage").style.display = "inline";
			document.getElementById("waitSettingFinish").style.display = "inline";
			Start_reciprocal_Number_RestoreConfiguration();
			
			$.get("/cgi-bin/get/New_GUI/get_sessionKey.asp", function(sessionKey){
				$("#sessionKey").val(sessionKey);	
				setTimeout('$.post("/cgi-bin/New_GUI/Schedule.asp", $("form").serialize(), function(){save_flag = true;});', 300);
			});
		}
	}
	
	function DisplayTime()
	{
		var DisplayTime = document.createElement("div");
		DisplayTime.className			= "display";
		DisplayTime.style.position		= "absolute";
		DisplayTime.style.top			= "0px";
		DisplayTime.style.left			= "0px";
		DisplayTime.style.width			= "90px";
		DisplayTime.style.height		= "27px";
		DisplayTime.style.lineHeight		= "27px";
		DisplayTime.style.background	= "#FFFA72";
		DisplayTime.style.color			= "#505050";
		DisplayTime.style.zIndex		= "1000";
		return DisplayTime;
	}
	
	function SpriteBtn()
	{
		var SpriteBtn = document.createElement("div");
		SpriteBtn.className					= "sprite";
		SpriteBtn.style.position			= "absolute";
		SpriteBtn.style.top					= "4px";
		SpriteBtn.style.left				= "6px";
		SpriteBtn.style.width				= "20px";
		SpriteBtn.style.height				= "20px";
		SpriteBtn.style.backgroundImage		= "url('/graphic/New_GUI/closeBtn.png')";
		SpriteBtn.style.backgroundRepeat	= "no-repeat";
		SpriteBtn.style.backgroundPosition	= "center";
		SpriteBtn.style.cursor				= "pointer";
		SpriteBtn.style.backgroundSize		= "contain";
		return SpriteBtn;
	}
	
	function createScheduleTable(rule)
	{
		var num = 0;		
		for (var i = 0; i < 7; i ++)
		{
			var tmpList = "";
			for (var j = 0; j < 24; j ++)
			{
				var classString = "list";
				
				if(rule != null)
				{
					if(rule.timeArray[i][j] == 1)
					{
						classString = "list ui-selected click-selected-locked";
					}
				}
				tmpList += "<li class='"+ classString +"' style='position:relative' value=" + num + "></li>";
				num++;
			}
			document.getElementById("calendar").children[i].children[0].innerHTML = tmpList;
			
			if(rule != null)
			{
				rule.showTimeRange(i);
			}
		}		
	}
	
	var unselectArray = null;
	var selectStack = null;
	function createSelectorTrigger()
	{
		$(function() {
			$( ".week" ).bind("mousedown", function(evt) {
				evt.metaKey = true;
			}).selectable(
			{
				start: function(event, ui)
				{	
					unselectArray = new Array();
					selectStack = new Array();
				},
				selecting: function (event, ui)
				{
					if(ui.selecting.tagName == "DIV")
					{
						return;
					}
					selectStack.push(ui.selecting);
					
					//remove time range tag					
					if(currentRule.tmpDate == null)
					{
						var row = Math.floor(ui.selecting.value/24);
						var column = ui.selecting.value%24;
						var obj = $(ui.selecting);
						
						currentRule.tmpDate = row;						
						
						if(currentRule.timeArray[row][column] == 1)
						{
							while(column > 0)
							{
								column--;
								if((currentRule.timeArray[row][column] != 1) || (column == 0))
								{
									if(column == 0)
									{
										obj = obj.prev();
									}
									obj.children(".display").remove();
									break;
								}
								obj = obj.prev();
							}
						}
					}
				},
				selected: function (event, ui)	
				{
					if(ui.selected.tagName == "DIV")
					{
						return;
					}
				
					$(ui.selected).addClass("click-selected-locked");	
					
					var row = Math.floor(ui.selected.value/24);
					var column = ui.selected.value%24;
					
					currentRule.timeArray[row][column] = 1;
					//currentRule.tmpDate = row;					
				},
				unselecting: function(event, ui)
				{
					if(selectStack.length > 0)
						selectStack.pop();				
				},
				unselected: function(event, ui)
				{					
					unselectArray.push(ui.unselected);
									
					//disable unselect
					$(ui.unselected).addClass("ui-selected");					
				},
				stop: function(event, ui)
				{
					if(unselectArray.length == 1)
					{						
						var obj = $(unselectArray[0]);						
						var row = Math.floor(obj.val()/24);
						var column = obj.val()%24;
					
						if((column == 23)||(currentRule.timeArray[row][column+1] != 1))	//end
						{
							var len = 0;
							
							for(var i = column; i >= 0; i--)
							{
								if(currentRule.timeArray[row][i] != 1)
								{
									break;
								}
								currentRule.timeArray[row][i]  = 0;
								len++;
							}
							
							obj.children(".sprite").remove();
							for(var i = 0; i < len; i++)
							{
								obj.removeClass('ui-selected click-selected-locked ui-unselecting');
								if(i == (len-1))
								{
									obj.children(".display").remove();
								}
								else
								{
									obj = obj.prev();
								}
							}							
						}
						else
						{							
							currentRule.showTimeRange(currentRule.tmpDate);
						}
					}
					else if((selectStack.length > 0)&&($(selectStack[0]).children(".sprite").length > 0)&&(selectStack[0].value > selectStack[1].value))
					{
						$(selectStack[0]).children(".sprite").remove();
						
						for(var i = 0; i < selectStack.length; i++)
						{
							obj = $(selectStack[i]);
							var row = Math.floor(obj.val()/24);
							var column = obj.val()%24;
						
							currentRule.timeArray[row][column] = 0;
							obj.removeClass('ui-selected click-selected-locked ui-unselecting');							
						}
						currentRule.showTimeRange(currentRule.tmpDate);						
					}
					else
					{
						currentRule.showTimeRange(currentRule.tmpDate);
					}
					currentRule.tmpDate = null;					
				}
			});
		});
	}
	
	function clearCreateRulePOP()
	{
		$("label[class='error']").html("");
		document.getElementById("createPop").style.display = "none";
		document.getElementById("schedule_name").value = "";
		$("li").removeClass('ui-selected click-selected-locked ui-unselecting');
		$("li .sprite").remove();
		$("li .display").remove();
		document.getElementById("createButton").disabled = false;
		currentRule = null;
	}
	
	function uiDoSave() {	
		$("label[class='error']").html("");

		//exist schedule name
		var existScheduleName = new Array();	
		for(var i=0; i<maxRule; i++){		
			existScheduleName.push(ScheduleList[i][0]);
		}	

		var scheduleName = $("#schedule_name").val();
		if($("#schedule_name").val() == "" ||$("#schedule_name").val().length == 0){
			$("#name_error").html("<br/>Name must be entered!");
			$("#schedule_name").focus();
			return;
		}
		else if(!isUnsafeChar(scheduleName)) {
			$("#name_error").html("<br/>The Name include unsafe char!");
			$("#schedule_name").focus();
			return;
		}
		/*else if(scheduleName.indexOf("-")>=0){
			$("#name_error").html("<br/>Name can't include special character '-' .");
			$("#schedule_name").focus();
			return;
		}*/
		
		if($("#editRow").val() == "-1"){
			for(var i=0; i<maxRule; i++){
				if($("#schedule_name").val() == existScheduleName[i]){
					$("#name_error").html("<br/>Name has been exit!");
					$("#schedule_name").focus();
					return;
				}
			}
		}
		else{
			for(var i=0; i<maxRule; i++){
				if(parseInt($("#editRow").val()) == i)
					continue;
				if($("#schedule_name").val() == existScheduleName[i]){
					$("#name_error").html("<br/>Name has been exit!");
					$("#schedule_name").focus();
					return;
				}
			}
		}
		$("#ruleName").val($("#schedule_name").val());
		
		if($("#editRow").val() == "-1") {		
			for(var i = 0; i < ScheduleList.length; i++) {
				if(ScheduleList[i][0] == "") {					
					$("#editRow").val(i)
					break;
				}				
			}
		}				

		var totalNum = 0;
		for(var date = 0; date < 7; date++)
		{
			for(var i = 0; i < 24; i++)
			{
				if(currentRule.timeArray[date][i] == 1){
					selectedValueArray.push(totalNum);
					if($("#timeValue").val() == "-1")
						$("#timeValue").val(totalNum);
					else{
						$("#timeValue").val($("#timeValue").val() + "-" +totalNum);
					}
				}
				totalNum++;			
			}
		}	

		if($("#timeValue").val() == "-1"){
			$("#schedule_error").html("<br/>Please select the schedule!");
			return;
		}

		$("#buttonType").val("apply");			

		document.getElementById("CreatePopAlertMessage").style.display = "inline";
		document.getElementById("waitSettingFinish").style.display = "inline";
		Start_reciprocal_Number_RestoreConfiguration();
		
		$.get("/cgi-bin/get/New_GUI/get_sessionKey.asp", function(sessionKey){
			$("#sessionKey").val(sessionKey);	
			setTimeout('$.post("/cgi-bin/New_GUI/Schedule.asp", $("form").serialize(), function(){save_flag = true;});', 300);
		});
	}

	var save_flag = false;
	var _ReciprocalNumber = 5;
	function Start_reciprocal_Number_RestoreConfiguration() {
		if (_ReciprocalNumber >= 0) {
			document.getElementById("reciprocal_Number").innerHTML = _ReciprocalNumber + " Sec";
			_ReciprocalNumber --;
			setTimeout("Start_reciprocal_Number_RestoreConfiguration()", 1000);
		} else {
			if(save_flag) {
				document.getElementById("waitSettingFinish").style.display = "none";
				document.getElementById("SuccessSettings").style.display = "inline";
				/*document.getElementById("waitSettingFinish").style.display = "none";
				document.getElementById("REBOOT").style.display = "inline";
				Start_reciprocal_Number_Reboot();*/
			} else {
				setTimeout("Start_reciprocal_Number_RestoreConfiguration()", 1000);
			}
		}
	}

	var _ReciprocalRebootNumber = 100;
	function Start_reciprocal_Number_Reboot()
	{
		if (_ReciprocalRebootNumber >= 0)
		{
			document.getElementById("reciprocal_Number_Reboot").innerHTML = _ReciprocalRebootNumber + " Sec";
			_ReciprocalRebootNumber --;
			setTimeout("Start_reciprocal_Number_Reboot()", 1000);
		}
		else
		{
			self.location.href = "/";
		}
	}

	function save_button_changed()
	{
		document.getElementById("Save_Disable_btn").style.display = "none";
		document.getElementById("Save_btn").style.display = "block";
		changeFlag = true;
		checkFlag = true;
	}
	
	function check_TotalRule(maxRule, totalRule)
	{
		var IsFull = maxRule - totalRule;
		document.getElementById("RemainingRules").innerHTML = IsFull;
		
		if (IsFull == 0)
		{
			document.getElementById("createButton").disabled = true;
		}
		else
		{
			document.getElementById("createButton").disabled = false;
		}
	}	
	
	function uiDoOnLoad(){		
		var scheduleTimeArray = new Array();			

		for(var i=0; i<maxRule; i++){
			currentRule = new  RuleObj();
			
			if(ScheduleList[i][0] != ""){
				currentRule.setName(ScheduleList[i][0]);				

				if(ScheduleList[i][1] != ""){
					scheduleTimeArray = ScheduleList[i][1].split("-");

					for(var j = 0; j < scheduleTimeArray.length; j++)
					{
						var row = Math.floor(scheduleTimeArray[j]/24);
						var column = scheduleTimeArray[j]%24;							
						currentRule.timeArray[row][column] = 1;						
					}
				}				

				currentRule.makeTimeSet();
				datalist.push(currentRule);			
				
				currentRule = null;
			}	
			datalist.maxrowid = i+1;
		}	
	}

	var save_flag_reboot = false;
	function uiScheduleSave(){
		$("#dialog_msg_black2").html(m_schedule_reboot);
		document.getElementById("CreatePopAlertMessage").style.display = "inline";
		document.getElementById("waitSettingFinish").style.display = "none";
		document.getElementById("REBOOT").style.display = "inline";
		Start_reciprocal_Number_Reboot();
		
		$.get("/cgi-bin/get/New_GUI/get_sessionKey.asp", function(sKey){
			setTimeout(function(){
				$.post("/cgi-bin/New_GUI/Schedule.asp", 
					{sessionKey: sKey, buttonType: "save"}, 
					function(){
						save_flag_reboot = true;
					}
				);
			}, 300);
		});
	}
	
	//OnLoad
	$(document).ready( function() {	
		Load_HTML();
		Initial();
		setMenu("menu_Management");
		createSelectorTrigger();		
		$("#RemainingRules").html(maxRule-ScheduleCount);
		uiDoOnLoad();

		hideSaveBtn();

		var slh = self.location.href;
		if(slh.indexOf('ad=true') != -1) {
			save_button_changed();
		}
	});
</script>
<body>
<form name="frm" id="frm" METHOD="POST">
<input type="hidden" name="sessionKey" id="sessionKey" value="<% tcWebApi_get("Account_Login","sessionKey","s") %>">
<input type="hidden" name="editRow" id="editRow" value="-1">
<input type="hidden" name="buttonType" id="buttonType">
<input type="hidden" name="ruleName" id="ruleName">
<input type="hidden" name="timeValue" id="timeValue" value="-1">

	<div id="wrapper">
		<!-------------------- Logo ------------------------->
		<div id="header"></div>
		<!-------------------- Menu ------------------------->
		<div id="menu"></div>
		<div id="menu_edge"></div>
		<!-------------------- Content ---------------------->
		<div id="content">
			<!-------------------- info ---------------------->	
	  		<div id="info">
			  	<div id="FunctionName"><script>prints(m_home_Schedule);</script></div>
				<div id="wallimage"><img src="/graphic/New_GUI/page_Schedule.png?v=TimeStamp_QzwsxDcRfvTGByHn" alt="" width="195" height="119"/></div>
	    		<div id="directions">
	    			<script>prints(m_schedule_des);</script>
    				<label id="Get_Help" onClick="showOnlineHelp('Schedule');" style="cursor:pointer;display:none;text-Decoration:underline">Click here for help.</label>
    			</div>
			</div>
		    <!-------------------- funcBar ---------------------->
		    <div id="funcBar">
				<div id="pagePath"><script>prints(m_comm_Managment);</script> >> <script>prints(m_home_Schedule);</script></div>
				<ul id="rightFunc">
					<li style="display:block"><div id="Save_btn" onclick="uiScheduleSave();" style="cursor:pointer; display:none"><script>prints(m_comm_Save);</script></div></li> 
					<li style="display:block"><div id="Save_Disable_btn"><script>prints(m_comm_Save);</script></div></li>
					<li style="display:block"><a href="javascript:CheckHTMLStatus('Time');" style="text-decoration:none"><div id="page_btn"><script>prints(m_time_header);</script></div></a></li>
				</ul>
			</div>
			<!-------------------- main ---------------------->
			<div id="main">
			<table class="mainTable" border="0" cellspacing="0" id="tblSchedule">
				<thead>
				     <tr>
					<th><script>prints(m_comm_Name);</script></th>
					<th><script>prints(m_home_Schedule);</script></th>
					<th><script>prints(m_comm_Edit);</script></th>
					<th><script>prints(m_comm_Delete);</script></th>
				     </tr>
			    </thead>
				<tbody></tbody>
			</table>
			<table class="mainTable" border="0" cellspacing="0" id="tblSchedule2" style="display:none">
					<thead><tr></tr></thead><tbody></tbody>
			</table>
				<br /><br />
				<button type="button" name="createButton" id="createButton" class="styled_button_s" onclick="addRuleButton()"><script>prints(m_comm_addrule);</script></button>
		 		&nbsp;&nbsp;<script>prints(m_comm_Remaining);</script>:&nbsp;<label id="RemainingRules"></label>
			</div>
			<div id="createPop" style="display:none" onselectstart="return false;">
			<div id="popRect3" class="dialogBox" style="width:850px">
					<table class="myCreatePop3_table" border="0" cellspacing="0" id="tblSchedule3">
						<tbody>
							<td><script>prints(m_comm_Name);</script>:<input class="styled-text" type="text" name="schedule_name" size="15" id="schedule_name" Maxlength="15">
								<label id="name_error" name="name_error" class="error"></label>
							</td>
							<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
							<td width="30px"><div id="closeCreatePopBtn" onclick="clearCreateRulePOP()"></div></td>
						</tbody>
					</table>
					<div id="border" style="position:relative; top:20px; left:0px; height:280px; width:860px; background:url(/graphic/New_GUI/scheduleTable.png) left top no-repeat;" >
						<div id="calendar" style="position:relative; top:33px; left:56px;">
							<div id="Monday"><ul class="week"></ul></div>
							<div id="Tuesday"><ul class="week"></ul></div>
							<div id="Wednesday"><ul class="week"></ul></div>
							<div id="Thursday"><ul class="week"></ul></div>
							<div id="Friday"><ul class="week"></ul></div>
							<div id="Saturday"><ul class="week"></ul></div>
							<div id="Sunday"><ul class="week"></ul></div>
						</div>
					</div>
					<label id="schedule_error" name="schedule_error" class="error"></label>
					<br/>
					<table class="myCreatePop3_table" border="0" cellspacing="0" style="height:30px;">
						<tbody>
							<td id="save_td" colspan="4" style="width:850px;">
								<center><button type="button" class="styled_button_s" onclick="uiDoSave();"><script>prints(m_comm_Apply);</script></button></center>
							</td>
						</tbody>
					</table>
			</div>
		</div>

		 <!-- ------------------ alert pop ----------------------- -->
			<div id="CreatePopAlertMessage" style="display:none">
				<div id="AlertPopRect">
					<div id="AlertPopBody">
						<table class="myAlertPop_table_b" id="waitSettingFinish" border="0" cellspacing="0" style="display:none">
						   <tbody>
								 <tr>
								 	<td>
										<center><div id="Loading_pop_image2"></div></center>
									</td>
								 </tr>
								 <tr>
								 	<td><center><label id="reciprocal_Number">10</label></center></td>
								 </tr>
								 <tr>
								 	<td id="dialog_msg_black2"><script>prints(m_comm_changesdesc+"<br>"+m_schedule_des1);</script> </td>
								 </tr>
						   </tbody>
						</table>	
						<table class="myAlertPop_table_b" id="SuccessSettings" border="0" cellspacing="0"  style="display:none">
							   <tbody>
									 <tr>
									 	<td>
											<center><div id="Information_pop_image"></div></center>
										</td>
									 </tr>
									 <tr>
										 <td>
										 	<div id="dialog_msg_black"><script>I18N("h", m_comm_settingsave);</script></div>
										 </td>
									 </tr>
									 <tr>
										 <td>
										 	<center><div id="Confirm_btn" onclick="javascript: self.location.href = '/cgi-bin/New_GUI/Schedule.asp?ad=true';" style="cursor:pointer"><script>I18N("h", m_comm_ok);</script></div></center>
										 </td>
									 </tr>
							   </tbody>
							</table>						
						<table class="myAlertPop_table_b" id="REBOOT" border="0" cellspacing="0"  style="display:none">
							<tbody>
								<tr>
									<td>
										<center><div id="Loading_pop_image2"></div></center>
									</td>
								</tr>
								<tr>
									<td><center><label id="reciprocal_Number_Reboot"></label></center></td>
								</tr>
								<tr>
									<td><script>prints(m_schedule_wait);</script></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
			
		<div id="DetectRouterConnection" style="display:none"></div>
		<div id="footer" border="0">
			<div id="copyright"><script>prints(m_comm_copyright);</script></div>
			<div id="help">
				<a target="_blank" href="http://www.dlink.com/support" style="cursor:pointer;text-Decoration:underline">
					
						<script>prints(m_home_gethelp);</script>
					
				</a>
			</div>
		</div>
	</div>
	</div>
</form>
</body>
</html>

