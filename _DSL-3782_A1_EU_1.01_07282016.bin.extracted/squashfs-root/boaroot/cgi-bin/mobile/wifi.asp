<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title><%tcWebApi_get("Upnpd_Entry","ModelName","s")%></title>
	<link rel="stylesheet" href="/mobile/jquery.mobile-1.4.5.min.css">
	<link rel="stylesheet" href="/mobile/style.css">
	<script src="/mobile/jquery.min.js"></script>
	<script src="/mobile/jquery.mobile-1.4.5.min.js"></script>
	<script src="/mobile/initLanguage.js"></script>
</head>
<body>
	<div data-role="page">
		<script type="text/javascript">
			if(top.location.href.indexOf("index.asp") != top.location.href.toString().length - 9) {
				top.location.href = "http://<%TCWebApi_get("Lan_Entry0","IP","s")%>/cgi-bin/mobile/index.asp";
			}

			var n = 5 * 60*1000;
			setTimeout(function(){
				self.location.href = "/cgi-bin/mobile/index.asp";
			}, n);

			function encodeSpecialChr(str) {
				str = str.replace(/&/g, "&amp;");
				str = str.replace(/</g, "&lt;");
				str = str.replace(/>/g, "&gt;");
				str = str.replace(/"/g, "&quot;");
				str = str.replace(/'/g, "&#39;");
				str = str.replace(/;/g, "\;");
				str = str.replace(/=/g, "&#61;");
				str = str.replace(/\+/g, "&#43;");
				str = str.replace(/-/g, "&#45;");
				return str;
			}

			function decodeSpecialChr(str) {
				str = str.replace(/&amp;/g, "&");
				str = str.replace(/&lt;/g, "<");
				str = str.replace(/&gt;/g, ">");
				str = str.replace(/&quot;/g, "\"");
				str = str.replace(/&#39;/g, "'");
				str = str.replace(/&#59;/g, ";");
				str = str.replace(/&#61;/g, "=");
				str = str.replace(/&#43;/g, "+");
				str = str.replace(/&#45;/g, "-");
				return str;
			}

			function isSSIDInvalid(source) {
				var sourcestr = new String(source);
				var tempstr;
				for (var strposition = 0; strposition <= sourcestr.length - 1; strposition++) {
					tempstr = sourcestr.substr(strposition, 1);
					if (tempstr.charCodeAt(0) == 45 ||tempstr.charCodeAt(0) == 95 || tempstr.charCodeAt(0) == 46 || tempstr.charCodeAt(0) == 64 || (tempstr.charCodeAt(0) >= 48 && tempstr.charCodeAt(0) <= 57) || (tempstr.charCodeAt(0) >= 65 && tempstr.charCodeAt(0) <= 90) || (tempstr.charCodeAt(0) >= 97 && tempstr.charCodeAt(0) <= 122))
						continue;
					else
						return true;
				}
				return false;
			}

			function checkSSID(name, id) {
				var en_ssid_index_0 = decodeSpecialChr('<%TCWebApi_get("WLan_Entry0","SSIDON","s")%>');
				var en_ssid_index_1 = decodeSpecialChr('<%TCWebApi_get("WLan_Entry1","SSIDON","s")%>');
				var en_ssid_index_2 = decodeSpecialChr('<%TCWebApi_get("WLan_Entry2","SSIDON","s")%>');
				var en_ssid_index_3 = decodeSpecialChr('<%TCWebApi_get("WLan_Entry3","SSIDON","s")%>');
				var conn_ssid_0 = decodeSpecialChr('<%TCWebApi_get("WLan_Entry0","SSID","s")%>');
				var conn_ssid_1 = decodeSpecialChr('<%TCWebApi_get("WLan_Entry1","SSID","s")%>');
				var conn_ssid_2 = decodeSpecialChr('<%TCWebApi_get("WLan_Entry2","SSID","s")%>');
				var conn_ssid_3 = decodeSpecialChr('<%TCWebApi_get("WLan_Entry3","SSID","s")%>');
				var dataLists = [
					[en_ssid_index_0, conn_ssid_0],
					[en_ssid_index_1, conn_ssid_1],
					[en_ssid_index_2, conn_ssid_2],
					[en_ssid_index_3, conn_ssid_3]
				];
				for (var i = 0; i < dataLists.length; i++) {
					if (dataLists[i][0] == 1) {
						if (id != i) {
							if (name == dataLists[i][1])
								return false;
						}
					}
				}
				return true;
			}

			function checkSSID_ac(name, id) {				
				var en_ssid_index_0_ac = decodeSpecialChr('<%TCWebApi_get("WLan11ac_Entry0","SSIDON","s")%>');
				var en_ssid_index_1_ac = decodeSpecialChr('<%TCWebApi_get("WLan11ac_Entry1","SSIDON","s")%>');
				var en_ssid_index_2_ac = decodeSpecialChr('<%TCWebApi_get("WLan11ac_Entry2","SSIDON","s")%>');
				var en_ssid_index_3_ac = decodeSpecialChr('<%TCWebApi_get("WLan11ac_Entry3","SSIDON","s")%>');
				var conn_ssid_0_ac = decodeSpecialChr('<%TCWebApi_get("WLan11ac_Entry0","SSID","s")%>');
				var conn_ssid_1_ac = decodeSpecialChr('<%TCWebApi_get("WLan11ac_Entry1","SSID","s")%>');
				var conn_ssid_2_ac = decodeSpecialChr('<%TCWebApi_get("WLan11ac_Entry2","SSID","s")%>');
				var conn_ssid_3_ac = decodeSpecialChr('<%TCWebApi_get("WLan11ac_Entry3","SSID","s")%>');
				var dataLists_ac = [
					[en_ssid_index_0_ac, conn_ssid_0_ac],
					[en_ssid_index_1_ac, conn_ssid_1_ac],
					[en_ssid_index_2_ac, conn_ssid_2_ac],
					[en_ssid_index_3_ac, conn_ssid_3_ac]
				];
				for (var i = 0; i < dataLists_ac.length; i++) {
					if (dataLists_ac[i][0] == 1) {
						if (id != i) {
							if (name == dataLists_ac[i][1])
								return false;
						}
					}
				}
				return true;
			}

			function strchk_unicode(str) {
				var strlen = str.length;
				if (strlen > 0) {
					var c = '';
					for (var i = 0; i < strlen; i++) {
						c = escape(str.charAt(i));
						if (c.charAt(0) == '%' && c.charAt(1) == 'u')
							return true;
					}
				}
				return false;
			}

			function Prefixes_Rule_WEP_KEY(TelNum) {
				for (var i = 0; i < TelNum.length; i++) {
					if (TelNum.charAt(i) == '\"') return false;
					if (TelNum.charAt(i) == ' ') return false;
					if (TelNum.charAt(i) == '\\') return false;
					if (TelNum.charAt(i) == '%') return false;
					if (TelNum.charAt(i) == '#') return false;
				}
				return true;
			}

			function isHex(cmpStr) {
				var regStr = /[a-fA-F0-9]/;
				for (i = 0; i < cmpStr.length; i++) {
					if (cmpStr.charAt(i).search(regStr) == -1)
						return false;
				}
				return true;
			}

			var msg_length = 0;
			function check_key(keyvalue, lan_wlan_cipher, lan_wlan_type) {
				var keylength = parseInt(lan_wlan_cipher);
				var keytype = parseInt(lan_wlan_type);
				var ascii_length = (keylength / 8) - 3;
				var hex_length = ascii_length * 2;

				if (keytype == 1)
					my_length = ascii_length;
				else
					my_length = hex_length;

				msg_length = my_length;

				if (keytype == 1) {
					if (!Prefixes_Rule_WEP_KEY(keyvalue))
						return false;
				}

				if (keytype != 1) {
					if (!isHex(keyvalue))
						return false;
				}

				if ((keytype == 1) && (keyvalue == 0))
					return false;

				if ((keyvalue.length != my_length && keyvalue != ""))
					return false;

				return true;
			}

			function isWPAKeyInvalid(source) {
				var sourcestr = new String(source);
				var tempstr;
				if (sourcestr == "")
					return false;

				for (var strposition = 0; strposition <= sourcestr.length - 1; strposition++) {
					tempstr = sourcestr.substr(strposition, 1);
					if ((tempstr.charCodeAt(0) >= 48 && tempstr.charCodeAt(0) <= 57) || (tempstr.charCodeAt(0) >= 65 && tempstr.charCodeAt(0) <= 90) || (tempstr.charCodeAt(0) >= 97 && tempstr.charCodeAt(0) <= 122))
						continue;
					else
						return true;
				}
				return false;
			}			


			var wifi2_enable = decodeSpecialChr('<%tcWebApi_get("WLan_Common","APOn","s")%>');
			var wifi2_ssid = decodeSpecialChr('<%tcWebApi_get("WLan_Entry0","SSID","s")%>');
			var wifi2_AuthMode = decodeSpecialChr('<%tcWebApi_get("WLan_Entry0","AuthMode","s")%>');
			var wifi2_DefaultKeyID = decodeSpecialChr('<%tcWebApi_get("WLan_Entry0","DefaultKeyID","s")%>');
			var wifi2_Key1Str = decodeSpecialChr('<%tcWebApi_get("WLan_Entry0","Key1Str","s")%>');
			var wifi2_Key2Str = decodeSpecialChr('<%tcWebApi_get("WLan_Entry0","Key2Str","s")%>');
			var wifi2_Key3Str = decodeSpecialChr('<%tcWebApi_get("WLan_Entry0","Key3Str","s")%>');
			var wifi2_Key4Str = decodeSpecialChr('<%tcWebApi_get("WLan_Entry0","Key4Str","s")%>');
			var wifi2_WPAPSK = decodeSpecialChr('<%tcWebApi_get("WLan_Entry0","WPAPSK","s")%>');

			var wifi2_key;
			if (wifi2_AuthMode == "OPEN"){
				wifi2_key = "";
			} else if (wifi2_AuthMode == "WEP-64Bits") {				
				wifi2_key = eval("wifi2_Key" + wifi2_DefaultKeyID + "Str");
			} else if (wifi2_AuthMode == "WEP-128Bits") {
				wifi2_key = eval("wifi2_Key" + wifi2_DefaultKeyID + "Str");
			} else if (wifi2_AuthMode == "WPAPSK" || wifi2_AuthMode == "WPA")
				wifi2_key = wifi2_WPAPSK;
			else if (wifi2_AuthMode == "WPA2PSK" || wifi2_AuthMode == "WPA2")
				wifi2_key = wifi2_WPAPSK;
			else if (wifi2_AuthMode == "WPAPSKWPA2PSK" || wifi2_AuthMode == "WPA1WPA2")
				wifi2_key = wifi2_WPAPSK;

			if (wifi2_key == "" || wifi2_key == "N/A")
				wifi2_key = "";			

			var wifi5_enable = decodeSpecialChr('<%tcWebApi_get("WLan11ac_Common","APOn","s")%>');
			var wifi5_ssid = decodeSpecialChr('<%tcWebApi_get("WLan11ac_Entry0","SSID","s")%>');
			var wifi5_AuthMode = decodeSpecialChr('<%tcWebApi_get("WLan11ac_Entry0","AuthMode","s")%>');
			var wifi5_DefaultKeyID = decodeSpecialChr('<%tcWebApi_get("WLan11ac_Entry0","DefaultKeyID","s")%>');
			var wifi5_Key1Str = decodeSpecialChr('<%tcWebApi_get("WLan11ac_Entry0","Key1Str","s")%>');
			var wifi5_Key2Str = decodeSpecialChr('<%tcWebApi_get("WLan11ac_Entry0","Key2Str","s")%>');
			var wifi5_Key3Str = decodeSpecialChr('<%tcWebApi_get("WLan11ac_Entry0","Key3Str","s")%>');
			var wifi5_Key4Str = decodeSpecialChr('<%tcWebApi_get("WLan11ac_Entry0","Key4Str","s")%>');
			var wifi5_WPAPSK = decodeSpecialChr('<%tcWebApi_get("WLan11ac_Entry0","WPAPSK","s")%>');

			var wifi5_key;
			if (wifi5_AuthMode == "OPEN") {
				wifi5_key = "";
			} else if (wifi5_AuthMode == "WEP-64Bits") {
				wifi5_key = eval("wifi5_Key" + wifi5_DefaultKeyID + "Str");
			} else if (wifi5_AuthMode == "WEP-128Bits") {
				wifi5_key = eval("wifi5_Key" + wifi5_DefaultKeyID + "Str");
			} else if (wifi5_AuthMode == "WPAPSK" || wifi5_AuthMode == "WPA")
				wifi5_key = wifi5_WPAPSK;
			else if (wifi5_AuthMode == "WPA2PSK" || wifi5_AuthMode == "WPA2")
				wifi5_key = wifi5_WPAPSK;
			else if (wifi5_AuthMode == "WPAPSKWPA2PSK" || wifi5_AuthMode == "WPA1WPA2")
				wifi5_key = wifi5_WPAPSK;

			if (wifi5_key == "" || wifi5_key == "N/A")
				wifi5_key = "";			

			$(function(){
				if (wifi2_AuthMode != "OPEN")
					$("#wifi24_key_div").show();

				if (wifi5_AuthMode != "OPEN")
					$("#wifi5_key_div").show();
				
				if (wifi2_enable == "1" || wifi5_enable == "1") {
					$("#wifi_status").prop("src", "/mobile/images/mobile_wifi_connected.png");
				} else if (wifi2_enable != "1" && wifi5_enable != "1") {
					$("#wifi_status").prop("src", "/mobile/images/mobile_wifi_disconnected.png");
				}

				$("#mbwifi_ssid_24").val(decodeSpecialChr(wifi2_ssid));
				$("#mbwifi_pswd_24").val(decodeSpecialChr(wifi2_key));
				$("#mbwifi_ssid_5").val(decodeSpecialChr(wifi5_ssid));
				$("#mbwifi_pswd_5").val(decodeSpecialChr(wifi5_key));

				$("#btn_login").on("tap", function(){
					$("#mbwifi_ssid_24_error").hide();
					$("#mbwifi_pswd_24_error").hide();
					$("#mbwifi_ssid_5_error").hide();
					$("#mbwifi_pswd_5_error").hide();

					// wifi 2.4G SSID
					if ($("#mbwifi_ssid_24").val().length < 3 || $("#mbwifi_ssid_24").val().length > 32) {
						$("#mbwifi_ssid_24_error").html(m_wifi_waringssid).show();
						return;
					} else if (isSSIDInvalid($("#mbwifi_ssid_24").val())) {
						$("#mbwifi_ssid_24_error").html(m_wifi_waringssid).show();
						return;
					}
					if (checkSSID($("#mbwifi_ssid_24").val(), 0) == false) {
						$("#mbwifi_ssid_24_error").html(m_wifi_waringssid2).show();
						return;
					}

					// wifi 2.4G Key
					if (wifi2_AuthMode == "OPEN"){
						
					} else if (wifi2_AuthMode == "WEP-64Bits") {
						
						if ($("#mbwifi_pswd_24").val().length == 5) {
							if (!check_key($("#mbwifi_pswd_24").val(), 64, 1)) {
								$("#mbwifi_pswd_24_error").html(_lan_wlan_encryption_A_1_error + msg_length + _lan_wlan_encryption_ASCII_error).show();
								return;
							}
						} else if ($("#mbwifi_pswd_24").val().length == 10) {
							if (!check_key($("#mbwifi_pswd_24").val(), 64, 2)) {
								$("#mbwifi_pswd_24_error").html(_lan_wlan_encryption_A_1_error + msg_length + _lan_wlan_encryption_hex_error).show();
								return;
							}
						} else {
							$("#mbwifi_pswd_24_error").html(_wlan_conn_wizard_network_error).show();
							return;
						}

					} else if (wifi2_AuthMode == "WEP-128Bits") {

						if ($("#mbwifi_pswd_24").val().length == 13) {
							if (!check_key($("#mbwifi_pswd_24").val(), 128, 1)) {
								$("#mbwifi_pswd_24_error").html(_lan_wlan_encryption_A_1_error + msg_length + _lan_wlan_encryption_ASCII_error).show();
								return;
							}
						} else if ($("#mbwifi_pswd_24").val().length == 26) {
							if (!check_key($("#mbwifi_pswd_24").val(), 128, 2)) {
								$("#mbwifi_pswd_24_error").html(_lan_wlan_encryption_A_1_error + msg_length + _lan_wlan_encryption_hex_error).show();
								return;
							}
						} else {
							$("#mbwifi_pswd_24_error").html(_wlan_conn_wizard_network_error).show();
							return;
						}

					} else if (wifi2_AuthMode == "WPAPSK" || wifi2_AuthMode == "WPA" || wifi2_AuthMode == "WPA2PSK" || wifi2_AuthMode == "WPA2" || wifi2_AuthMode == "WPAPSKWPA2PSK" || wifi2_AuthMode == "WPA1WPA2") {
						if (($("#mbwifi_pswd_24").val().length < 8) || ($("#mbwifi_pswd_24").val().length > 63) || (isWPAKeyInvalid($("#mbwifi_pswd_24").val()))) {
							if (wifi2_AuthMode == "WPAPSK" || wifi2_AuthMode == "WPA")
								$("#mbwifi_pswd_24_error").html(_lan_wlan_string_errorA + "WPA-PSK" + _lan_wlan_string_errorB).show();
							if (wifi2_AuthMode == "WPA2PSK" || wifi2_AuthMode == "WPA2")
								$("#mbwifi_pswd_24_error").html(_lan_wlan_string_errorA + "WPA2-PSK" + _lan_wlan_string_errorB).show();
							if (wifi2_AuthMode == "WPAPSKWPA2PSK" || wifi2_AuthMode == "WPA1WPA2")
								$("#mbwifi_pswd_24_error").html(_lan_wlan_string_errorA + "WPA/WPA2-PSK" + _lan_wlan_string_errorB).show();
							return;
						}

						if (strchk_unicode($("#mbwifi_pswd_24").val())) {
							$("#mbwifi_pswd_24_error").html(_lan_wlan_string_errorC).show();
							return;
						}
					}


					// wifi 5G SSID
					if($("#mbwifi_ssid_5").val().length<3 ||$("#mbwifi_ssid_5").val().length>32 ) {
						$("#mbwifi_ssid_5_error").html(m_wifi_waringssid).show();
						return;
					} else if (isSSIDInvalid($("#mbwifi_ssid_5").val())) {
						$("#mbwifi_ssid_5_error").html(m_wifi_waringssid).show();
						return;
					}
					if(checkSSID_ac($("#mbwifi_ssid_5").val(),0)==false) {
						$("#mbwifi_ssid_5_error").html(m_wifi_waringssid2).show();
						return;
					}

					// wifi 5G Key
					if (wifi5_AuthMode == "OPEN"){
						
					} else if (wifi5_AuthMode == "WEP-64Bits") {
						
						if ($("#mbwifi_pswd_5").val().length == 5) {
							if (!check_key($("#mbwifi_pswd_5").val(), 64, 1)) {
								$("#mbwifi_pswd_5_error").html(_lan_wlan_encryption_A_1_error + msg_length + _lan_wlan_encryption_ASCII_error).show();
								return;
							}
						} else if ($("#mbwifi_pswd_5").val().length == 10) {
							if (!check_key($("#mbwifi_pswd_5").val(), 64, 2)) {
								$("#mbwifi_pswd_5_error").html(_lan_wlan_encryption_A_1_error + msg_length + _lan_wlan_encryption_hex_error).show();
								return;
							}
						} else {
							$("#mbwifi_pswd_5_error").html(_wlan_conn_wizard_network_error).show();
							return;
						}

					} else if (wifi5_AuthMode == "WEP-128Bits") {

						if ($("#mbwifi_pswd_5").val().length == 13) {
							if (!check_key($("#mbwifi_pswd_5").val(), 128, 1)) {
								$("#mbwifi_pswd_5_error").html(_lan_wlan_encryption_A_1_error + msg_length + _lan_wlan_encryption_ASCII_error).show();
								return;
							}
						} else if ($("#mbwifi_pswd_5").val().length == 26) {
							if (!check_key($("#mbwifi_pswd_5").val(), 128, 2)) {
								$("#mbwifi_pswd_5_error").html(_lan_wlan_encryption_A_1_error + msg_length + _lan_wlan_encryption_hex_error).show();
								return;
							}
						} else {
							$("#mbwifi_pswd_5_error").html(_wlan_conn_wizard_network_error).show();
							return;
						}

					} else if (wifi5_AuthMode == "WPAPSK" || wifi5_AuthMode == "WPA" || wifi5_AuthMode == "WPA2PSK" || wifi5_AuthMode == "WPA2" || wifi5_AuthMode == "WPAPSKWPA2PSK" || wifi5_AuthMode == "WPA1WPA2") {
						if (($("#mbwifi_pswd_5").val().length < 8) || ($("#mbwifi_pswd_5").val().length > 63) || (isWPAKeyInvalid($("#mbwifi_pswd_5").val()))) {
							if (wifi5_AuthMode == "WPAPSK" || wifi5_AuthMode == "WPA")
								$("#mbwifi_pswd_5_error").html(_lan_wlan_string_errorA + "WPA-PSK" + _lan_wlan_string_errorB).show();
							if (wifi5_AuthMode == "WPA2PSK" || wifi5_AuthMode == "WPA2")
								$("#mbwifi_pswd_5_error").html(_lan_wlan_string_errorA + "WPA2-PSK" + _lan_wlan_string_errorB).show();
							if (wifi5_AuthMode == "WPAPSKWPA2PSK" || wifi5_AuthMode == "WPA1WPA2")
								$("#mbwifi_pswd_5_error").html(_lan_wlan_string_errorA + "WPA/WPA2-PSK" + _lan_wlan_string_errorB).show();
							return;
						}

						if (strchk_unicode($("#mbwifi_pswd_5").val())) {
							$("#mbwifi_pswd_5_error").html(_lan_wlan_string_errorC).show();
							return;
						}
					}

					$("#wait_time").html(60);
					setInterval(function() {
						var waitTime = parseInt($("#wait_time").html());
						waitTime = waitTime - 1;
						if (waitTime > 0) {							
							$("#wait_time").html(waitTime);
						} else {
							self.location.href = "/cgi-bin/mobile/wifi.asp";
						}
					}, 1000);
					$("#popup_msg").click();

					$.get("/cgi-bin/get/New_GUI/get_sessionKey.asp", function(sessionKey){
						var str = "sessionKey="+sessionKey;
						str += "&mobile_wifi=1";
						str += "&mbwifi_ssid_24="+$("#mbwifi_ssid_24").val();
						str += "&wifi2_AuthMode="+wifi2_AuthMode;
						str += "&wifi2_DefaultKeyID="+wifi2_DefaultKeyID;
						str += "&mbwifi_pswd_24="+$("#mbwifi_pswd_24").val();
						str += "&mbwifi_ssid_5="+$("#mbwifi_ssid_5").val();
						str += "&wifi5_AuthMode="+wifi5_AuthMode;
						str += "&wifi5_DefaultKeyID="+wifi5_DefaultKeyID;
						str += "&mbwifi_pswd_5="+$("#mbwifi_pswd_5").val();						
						str += "&WPSConfMode="+'<%tcWebApi_get("WLan_Entry0","WPSConfMode","s")%>';
						str += "&WPSConfMode_ac="+'<%tcWebApi_get("WLan11ac_Entry0","WPSConfMode","s")%>';
						str += "&WPSConfStatus="+decodeSpecialChr('<%tcWebApi_get("WLan_Entry0","WPSConfStatus","s")%>');
						str += "&WPSConfStatus_ac="+decodeSpecialChr('<%tcWebApi_get("WLan11ac_Entry0","WPSConfStatus","s")%>');

						str += "&HideSSID=<%tcWebApi_get("WLan_Entry0","HideSSID","s")%>";
						str += "&HideSSID_ac=<%tcWebApi_get("WLan11ac_Entry0","HideSSID","s")%>";

						str += "&WMM=<%tcWebApi_get("WLan_Entry0","WMM","s")%>";
						str += "&WMM_ac=<%tcWebApi_get("WLan11ac_Entry0","WMM","s")%>";

						str += "&WEPAuthType="+decodeSpecialChr('<%tcWebApi_get("WLan_Entry0","WEPAuthType","s")%>');
						str += "&WEPAuthType_ac="+decodeSpecialChr('<%tcWebApi_get("WLan11ac_Entry0","WEPAuthType","s")%>');

						str += "&EncrypType="+decodeSpecialChr('<%tcWebApi_get("WLan_Entry0","EncrypType","s")%>');
						str += "&EncrypType_ac="+decodeSpecialChr('<%tcWebApi_get("WLan11ac_Entry0","EncrypType","s")%>');

						str += "&RekeyInterval="+decodeSpecialChr('<%tcWebApi_get("WLan_Entry0","RekeyInterval","s")%>');
						str += "&RekeyInterval_ac="+decodeSpecialChr('<%tcWebApi_get("WLan11ac_Entry0","RekeyInterval","s")%>');

						
						

						$.ajax({
							type: "POST",
							url: "set_wifi.asp",
							data: str,
							success: function(msg){
							
							}							
						});
					});	
				});
			});
		</script>
		<div data-role="header" data-theme="c" data-position="fixed">
			<a href="/cgi-bin/mobile/menu.asp" data-role="button" data-icon="home" data-ajax=false><script>document.write(m_comm_mobile_home);</script></a>
			<h2><img src="/mobile/images/mobile_dlink_logo.png" class="title_logo"></h2>
		</div>

		<div role="main" class="ui-content">
			<div style="height: 45px; vertical-align: middle;">
				<img src="/mobile/images/mobile_wifi_connected.png" style="width: 60px; margin-left: 20%;" id="wifi_status"> 
				<span style="vertical-align: 70%"><script>document.write(m_comm_mobile_wifi_title);</script></span>
			</div>

			<label for="mbwifi_ssid_24" style="padding-top: 10px;"><script>document.write(m_comm_mobile_wifi_ssid_24);</script>:</label>
			<input name="mbwifi_ssid_24" id="mbwifi_ssid_24" value="" type="text">
			<div id="mbwifi_ssid_24_error" style="color:red; display: none;"></div>

			<div id="wifi24_key_div" style="display: none;">
				<label for="mbwifi_pswd_24"><script>document.write(m_comm_mobile_wifi_pd);</script>:</label>
				<input name="mbwifi_pswd_24" id="mbwifi_pswd_24" value=""  type="text">
				<div id="mbwifi_pswd_24_error" style="color:red; display: none;"></div>
			</div>			

			<div style="border-bottom: 1px solid #ddd; padding-top: 10px;"></div>

			<label for="mbwifi_ssid_5" style="padding-top: 10px;"><script>document.write(m_comm_mobile_wifi_ssid_5);</script>:</label>
			<input name="mbwifi_ssid_5" id="mbwifi_ssid_5" value="" type="text">
			<div id="mbwifi_ssid_5_error" style="color:red; display: none;"></div>

			<div id="wifi5_key_div" style="display: none;">
				<label for="mbwifi_pswd_5"><script>document.write(m_comm_mobile_wifi_pd);</script>:</label>
				<input name="mbwifi_pswd_5" id="mbwifi_pswd_5" value=""  type="text">
				<div id="mbwifi_pswd_5_error" style="color:red; display: none;"></div>
			</div>			

			<a href="#positionWindow" id="popup_msg" style="display: none;" class="ui-btn ui-corner-all ui-shadow ui-btn-inline" data-rel="popup" data-position-to="window"></a>
			<div data-role="popup" id="positionWindow" class="ui-content" data-theme="a" data-dismissible="false" style="max-width:400px;">
				<div class="ui-icon-loading" style="width: 46px; height: 46px; margin: 5px auto;"></div>
				<div id="wait_time" style="margin: 5px auto; width: 15px;">60</div>
				<p style="margin: 10px auto; width: 100%;"><script>document.write(m_comm_mobile_wifi_save_wait);</script></p>
			</div>

			<div>
				<button id="btn_login"><script>document.write(m_comm_Save);</script></button>
			</div>

			<div class="copyright">
				<script>document.write(m_comm_copyright);</script>
			</div>

		</div>
	</div>
</body>
</html>