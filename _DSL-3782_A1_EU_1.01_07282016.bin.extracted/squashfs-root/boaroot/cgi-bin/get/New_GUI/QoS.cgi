#!/bin/sh
echo -e "Content-Type: text/html\n\n"
tcapi_path=/userfs/bin/

j=0
z=32
while [ $j -ne $z ]
do
	node_name="Dhcpd_Entry"$j
	IP=`/userfs/bin/tcapi get $node_name IP`
	IP=`/userfs/bin/alpha_tcapi $IP`
	MAC=`/userfs/bin/tcapi get $node_name MAC`
	MAC=`/userfs/bin/alpha_tcapi $MAC`
	ACTIVE=`/userfs/bin/tcapi get $node_name Active`
	ACTIVE=`/userfs/bin/alpha_tcapi $ACTIVE`
	case "$IP" in
        "no attribute information" | "no node information" )
		IP="N/A";;
	esac
	case "$MAC" in
	"no attribute information" | "no node information" )
		MAC="N/A";;
	esac
	case "$ACTIVE" in
	"no attribute information" | "no node information" )
		ACTIVE="N/A";;
	esac
	echo "var dhcpStatic"$j"_ip = '"$IP"';"
	echo "var dhcpStatic"$j"_mac = '"$MAC"';"
	echo "var dhcpStatic"$j"_active = '"$ACTIVE"';"
	
	j=`expr $j + 1`
done

LeaseNum=`/userfs/bin/tcapi get LanHost LeaseNum`
LeaseNum=`/userfs/bin/alpha_tcapi $LeaseNum`
echo "var Total_Clients = parseInt('"$LeaseNum"');"

i=0
while [ $i -ne $LeaseNum ]  
do  
	node_name="LanHost_Entry"$i
	IP=`/userfs/bin/tcapi get $node_name IP`
	IP=`/userfs/bin/alpha_tcapi $IP`
	MAC=`/userfs/bin/tcapi get $node_name MAC`
	MAC=`/userfs/bin/alpha_tcapi $MAC`
	Hostname=`/userfs/bin/tcapi get $node_name HostName`
	Hostname=`/userfs/bin/alpha_tcapi $Hostname`
	Type=`/userfs/bin/tcapi get $node_name InterfaceType`
	Type=`/userfs/bin/alpha_tcapi $Type`
	Types=`/userfs/bin/tcapi get $node_name TYPE`
	Types=`/userfs/bin/alpha_tcapi $Types`
	Alladdress=`/userfs/bin/tcapi get $node_name AddressSrc`
	Alladdress=`/userfs/bin/alpha_tcapi $Alladdress`
	ACTIVE=`/userfs/bin/tcapi get $node_name Active`
	ACTIVE=`/userfs/bin/alpha_tcapi $ACTIVE`
	
	case "$IP" in
        "no attribute information" | "no node information" )
		IP="N/A";;
	esac
	case "$MAC" in
	"no attribute information" | "no node information" )
		MAC="N/A";;
	esac
	case "$Hostname" in
	"no attribute information" | "no node information" )
		Hostname="N/A";;
	esac

	case "$Type" in
	"no attribute information" | "no node information" )
		Type="N/A";;
	esac

	case "$Types" in
	"no attribute information" | "no node information" )
		Types="N/A";;
	esac

	case "$Alladdress" in
	"no attribute information" | "no node information" )
		Alladdress="N/A";;
	esac

	case "$ACTIVE" in
	"no attribute information" | "no node information" )
		ACTIVE="N/A";;
	esac

	echo "var dhcpClient"$i"_ip = '"$IP"';"
	echo "var dhcpClient"$i"_mac = '"$MAC"';"
	echo "var dhcpClient"$i"_hostname = '"$Hostname"';"
	echo "var dhcpClient"$i"_type = '"$Type"';"
	echo "var dhcpClient"$i"_types = '"$Types"';"
	echo "var dhcpClient"$i"_add = '"$Alladdress"';"
	echo "var dhcpClient"$i"_active = '"$ACTIVE"';"

	i=`expr $i + 1`
done

i=0
z=11
while [ $i -ne $z ]  
do  
	node_name="QoS_Entry"$i
	SrcMac=`/userfs/bin/tcapi get $node_name SrcMac`
	SrcMac=`/userfs/bin/alpha_tcapi $SrcMac`
	SrcIP=`/userfs/bin/tcapi get $node_name SrcIP`
	SrcIP=`/userfs/bin/alpha_tcapi $SrcIP`
	SrcMask=`/userfs/bin/tcapi get $node_name SrcMask`
	SrcMask=`/userfs/bin/alpha_tcapi $SrcMask`
	ActQueue=`/userfs/bin/tcapi get $node_name ActQueue`
	ActQueue=`/userfs/bin/alpha_tcapi $ActQueue`
	
	case "$SrcMac" in
        "no attribute information" | "no node information" )
		SrcMac="N/A";;
	esac
	case "$SrcIP" in
	"no attribute information" | "no node information" )
		SrcIP="N/A";;
	esac
	case "$SrcMask" in
	"no attribute information" | "no node information" )
		SrcMask="N/A";;
	esac

	case "$ActQueue" in
	"no attribute information" | "no node information" )
		ActQueue="N/A";;
	esac

	echo "var QoS_Entry"$i"_SrcMac = '"$SrcMac"';"
	echo "var QoS_Entry"$i"_SrcIP = '"$SrcIP"';"
	echo "var QoS_Entry"$i"_SrcMask = '"$SrcMask"';"
	echo "var QoS_Entry"$i"_ActQueue = '"$ActQueue"';"
	

	i=`expr $i + 1`
done