var quantity = 10;
var allPage = (dataLists.length - 1)/10;

if(allPage.toString().indexOf(".") != -1) {
	var allpageList = allPage.toString().split(".");
	allPage = parseInt(allpageList[0]);
	if(parseInt(allpageList[1]) == 0)
		allPage = allPage - 1;
} else {
	allPage = allPage - 1;
}

function uiDoOnLoad() {
	generateLog(0);
}

function generateLog(arg) {
	pageno = parseInt(arg);
	//document.getElementById("ShowLog").innerHTML = generateHTML(arg);
	$("#ShowLog").html(generateHTML(arg));
}

function generateHTML(arg) {
 	var str=new String("");
	str+= "<table class='mainLogTable' border='0' cellspacing='0'>";
	str+="<thead>";
	str+="<tr>";
	str+="<th width='300px'>"+m_time_header+"</th>";
	str+="<th>Event</th>";
	str+="</tr>";

	var endpage = 0;
	if(((arg+1)*quantity) > (dataLists.length - 1))
		endpage = dataLists.length - 1;
	else
		endpage = ((arg+1)*quantity);
	
 	for(var i = arg*quantity; i < endpage; i++) {
		str +='<tr>';
		var data = dataLists[i];
		if(data.indexOf("|") == -1) {
			/*str +='<td colspan=2>';
			str +=dataLists[i];
			str +='</td>';
			*/
		} else {
			datas = data.split("|");
			str +='<td align="center">';
			str +=datas[0];
			str +='</td>';
			str +='<td align="left">';
			str +=datas[1];
			str +='</td>';
		}
		str +='</tr>';
	}
	
	str+= "</thead>";
	str+= "</table>";
	return str;
}

function ToPage(arg) {
	var Previous = 0;
	var next = 0;
	if(pageno != 0)
		Previous = pageno - 1;

	if(pageno >= allPage)
		next = pageno;
	else
		next = pageno + 1;
		
	switch(arg) {
		case 'first':
      			generateLog(0);
			break;
		case 'last':
			generateLog(allPage);
			break;
		case 'preview':
			generateLog(Previous);
			break;
		case 'next':
			generateLog(next);
			break;
		default:
			break;
	}
}

function doClear() {
	self.location.href= "Loginfo.xgi?&EXE=clearlog";
}

function uiDoCancel() {
	self.location.href="Loginfo.asp"; 
}